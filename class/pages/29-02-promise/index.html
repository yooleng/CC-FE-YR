<!----------------------------------------------------------------------------------
   29-02. promise
----------------------------------------------------------------------------------->

<!DOCTYPE html>
<html lang="ko">
    <head>
        <title>promise 연습</title>
        <!-- <script src="https://unpkg.com/axios/dist/axios.min.js"></script> -->
        <script>
            const onClickThen = () => {
                new Promise((resolve, reject) => {
                    // 시간이 걸리는 작업(ex. API 보내기 등)
                    // ...

                    setTimeout(() => {
                        try {
                            // 2초가 걸려서 백엔드에서 "철수" 데이터 받아왔다고 가정
                            const res = " 철수";
                            resolve(res); // 성공하면 이거 실행
                        } catch (error) {
                            reject("에러가 발생했어요!"); // 실패하면 이거 실행
                        }
                    }, 2000);
                }).then((res) => {
                    console.log("then.res", res); // ----------- 최종결과 : 철수
                });
            };

            const onClickAwait = async () => {
                const result = await new Promise((resolve, reject) => {
                    // 시간이 걸리는 작업(ex. API 보내기 등)
                    // ...

                    setTimeout(() => {
                        try {
                            // 2초가 걸려서 백엔드에서 "철수" 데이터 받아왔다고 가정
                            const res = " 철수";
                            resolve(res); // 성공하면 이거 실행
                        } catch (error) {
                            reject("에러가 발생했어요!"); // 실패하면 이거 실행
                        }
                    }, 2000);
                });
                console.log("await.result", result); // ----------- 최종결과 : 철수
            };
        </script>
    </head>
    <body>
        <button onclick="onClickThen()">promise 실행하기(.then)</button>
        <button onclick="onClickAwait()">promise 실행하기(await)</button>
    </body>
</html>
