<!----------------------------------------------------------------------------------
   29-03. myaxios
----------------------------------------------------------------------------------->

<!DOCTYPE html>
<html lang="ko">
    <head>
        <title>나만의 axios 만들기</title>
        <script>
            // axios 만들기

            const myaxios = {
                get: (url) => {
                    return new Promise((resolve, reject) => {
                        const qqq = new XMLHttpRequest();
                        qqq.open("get", url);
                        qqq.send();
                        qqq.addEventListener("load", (res) => {
                            resolve(res.target.response);
                        });
                    });
                },
                // post: (url) => {}, // 같은 방식
            };

            const onClickAxios = async () => {
                // axios 요청하기
                // 1) .then()으로 받기
                myaxios.get("https://koreanjson.com/posts/1").then((res) => {
                    console.log("여기는 .then() : ", res);
                });

                // 2) await로 받기
                const result = await myaxios.get("https://koreanjson.com/posts/1");
                console.log("여기는 await : ", result);
            };
        </script>
    </head>
    <body>
        <button onclick="onClickAxios()">Axios 요청하기</button>
    </body>
</html>
